{"ast":null,"code":"var _jsxFileName = \"/home/jorge/Estudos/Rocketseat/GoStack2020/Exercicios/Desafio 10/src/components/Food/index.tsx\";\nimport React, { useState } from 'react';\nimport { FiEdit3, FiTrash } from 'react-icons/fi';\nimport { Container } from './styles';\nimport api from '../../services/api';\nconst Food = _ref => {\n  let {\n    food,\n    handleDelete,\n    handleEditFood\n  } = _ref;\n  const [isAvailable, setIsAvailable] = useState(food.available);\n  async function toggleAvailable() {\n    try {\n      await api.put(`/foods/${food.id}`, {\n        ...food,\n        available: !isAvailable\n      });\n      setIsAvailable(!isAvailable);\n    } catch (err) {\n      console.log(err);\n    }\n  }\n  function setEditingFood() {\n    handleEditFood(food);\n  }\n  return /*#__PURE__*/React.createElement(Container, {\n    available: isAvailable,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"header\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: food.image,\n    alt: food.name,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(\"section\", {\n    className: \"body\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 9\n    }\n  }, food.name), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 9\n    }\n  }, food.description), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"price\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 9\n    }\n  }, \"R$ \", /*#__PURE__*/React.createElement(\"b\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 14\n    }\n  }, food.price))), /*#__PURE__*/React.createElement(\"section\", {\n    className: \"footer\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"icon-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    className: \"icon\",\n    onClick: () => setEditingFood(),\n    \"data-testid\": `edit-food-${food.id}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(FiEdit3, {\n    size: 20,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    className: \"icon\",\n    onClick: () => handleDelete(food.id),\n    \"data-testid\": `remove-food-${food.id}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(FiTrash, {\n    size: 20,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 13\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"availability-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 11\n    }\n  }, isAvailable ? 'Disponível' : 'Indisponível'), /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: `available-switch-${food.id}`,\n    className: \"switch\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    id: `available-switch-${food.id}`,\n    type: \"checkbox\",\n    checked: isAvailable,\n    onChange: toggleAvailable,\n    \"data-testid\": `change-status-food-${food.id}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"slider\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 13\n    }\n  })))));\n};\nexport default Food;","map":{"version":3,"names":["React","useState","FiEdit3","FiTrash","Container","api","Food","food","handleDelete","handleEditFood","isAvailable","setIsAvailable","available","toggleAvailable","put","id","err","console","log","setEditingFood","image","name","description","price"],"sources":["/home/jorge/Estudos/Rocketseat/GoStack2020/Exercicios/Desafio 10/src/components/Food/index.tsx"],"sourcesContent":["import React, { useState } from 'react';\n\nimport { FiEdit3, FiTrash } from 'react-icons/fi';\n\nimport { Container } from './styles';\n\nimport api from '../../services/api';\n\ninterface IFoodPlate {\n  id: number;\n  name: string;\n  image: string;\n  price: string;\n  description: string;\n  available: boolean;\n}\n\ninterface IProps {\n  food: IFoodPlate;\n  handleDelete: (id: number) => {};\n  handleEditFood: (food: IFoodPlate) => void;\n}\n\nconst Food: React.FC<IProps> = ({\n  food,\n  handleDelete,\n  handleEditFood,\n}: IProps) => {\n  const [isAvailable, setIsAvailable] = useState(food.available);\n\n  async function toggleAvailable(): Promise<void> {\n    try {\n      await api.put(`/foods/${food.id}`, {\n        ...food,\n        available: !isAvailable,\n      });\n\n      setIsAvailable(!isAvailable);\n    } catch (err) {\n      console.log(err);\n    }\n  }\n\n  function setEditingFood(): void {\n    handleEditFood(food);\n  }\n\n  return (\n    <Container available={isAvailable}>\n      <header>\n        <img src={food.image} alt={food.name} />\n      </header>\n      <section className=\"body\">\n        <h2>{food.name}</h2>\n        <p>{food.description}</p>\n        <p className=\"price\">\n          R$ <b>{food.price}</b>\n        </p>\n      </section>\n      <section className=\"footer\">\n        <div className=\"icon-container\">\n          <button\n            type=\"button\"\n            className=\"icon\"\n            onClick={() => setEditingFood()}\n            data-testid={`edit-food-${food.id}`}\n          >\n            <FiEdit3 size={20} />\n          </button>\n\n          <button\n            type=\"button\"\n            className=\"icon\"\n            onClick={() => handleDelete(food.id)}\n            data-testid={`remove-food-${food.id}`}\n          >\n            <FiTrash size={20} />\n          </button>\n        </div>\n\n        <div className=\"availability-container\">\n          <p>{isAvailable ? 'Disponível' : 'Indisponível'}</p>\n\n          <label htmlFor={`available-switch-${food.id}`} className=\"switch\">\n            <input\n              id={`available-switch-${food.id}`}\n              type=\"checkbox\"\n              checked={isAvailable}\n              onChange={toggleAvailable}\n              data-testid={`change-status-food-${food.id}`}\n            />\n            <span className=\"slider\" />\n          </label>\n        </div>\n      </section>\n    </Container>\n  );\n};\n\nexport default Food;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}